

exports.analytics = async (req, res) => {
  const users = await supabase.from("users").select("role", { count: "exact" });
  const vehicles = await supabase.from("vehicles").select("*", { count: "exact" });
  const trips = await supabase.from("trips").select("*", { count: "exact" });

  res.json({
    total_customers: users.count,
    total_vehicles: vehicles.count,
    total_trips: trips.count
  });
};
